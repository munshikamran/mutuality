{% extends "base.html" %}
{% load la_facebook_tags %}
{% block title %} Meet People  {% endblock %}
{% block content %}
	
					<section id="page-title" class="row">
						<div class="eight columns">
							<h2>Meet People</h2>
						</div>
		
						<form class="four columns custom">
							<select id="fav-filter" style="display:none;">
								<option id="all" value="All" selected="selected">Friends</option><option id="dating" value="Dating">Dating</option>
								<option id="favorites" value="Favorites">Favorites</option><option id="viewed" value="Viewed">Viewed</option>
							</select>

							<div id="fav-filter" class="custom dropdown">
								<a href="#" class="current">Friends</a>
								<a href="#" class="selector"></a>
								<ul>
									<li id="all">Friends</li>
									<li id="dating">Dating</li>
									<li id="favorites">Favorites</li>
									<li id="viewed">Viewed</li>
								</ul>
							</div>
						</form>
						
						<hr />
					</section>
					<section id="main" class="row">
						<a href="#" id="triggerModal" data-reveal-id="myModal"></a>
						<div id="carousel" class="eight columns">

							<ul id="meet-profiles" class="profiles">
								<li class="meet-profile">
									<a href="#" class="loaded">
										<img src="{{ MEDIA_URL }}/images/loader.gif" />
										<span class="match-profile-details">
											<span id="add-to-fav">Add to Favorites</span>
											<h3 id="left-profile-name" class="profile-name">Loading...</h3>
										</span>
									</a>
								</li>
	
								<li class="meet-profile active">
									<a href="#" class="loaded">
										<img src="{{ MEDIA_URL }}/images/loader.gif" />
										<span class="match-profile-details">
											<span id="add-to-fav">Add to Favorites</span>
											<h3 id="left-profile-name" class="profile-name">Loading...</h3>
										</span>
									</a>
								</li>
	
								<li class="meet-profile">
									<a href="#" class="loaded">
										<img src="{{ MEDIA_URL }}/images/loader.gif" />
										<span class="match-profile-details">
											<span id="add-to-fav">Add to Favorites</span>
											<h3 id="left-profile-name" class="profile-name">Loading...</h3>
										</span>
									</a>
								</li>
	
								<li class="meet-profile">
									<a href="#" class="loaded">
										<img src="{{ MEDIA_URL }}/images/loader.gif" />
										<span class="match-profile-details">
											<span id="add-to-fav">Add to Favorites</span>
											<h3 id="left-profile-name" class="profile-name">Loading...</h3>
										</span>
									</a>
								</li>
								</ul>

							<a href="#" id="page-prev">Previous</a>
							<a href="#" id="page-next">Next</a>
						</div>

						<aside id="user-profile" class="four columns">
							<h6>Learn About <span class="profile-name"></span></h6>

							<ul id="alt-actions" class="menu">
								<li id="introduce" ><a href="#" class="button" data-reveal-id="myModal2"><i></i>Get Introduced</a></li>
								<li id="view-fb"><a href="#" class="button"><i></i>Facebook Profile</a></li>
							</ul>
							
							<hr />
							
							<h6>Ask About <span class="profile-name"></span></h6>
							
							<div id="ask-about" class="">
								<ul>

								</ul>
							</div>
							<div class="right">
								<a href="#" id="ask-prev">&larr;</a>
								<a href="#" id="ask-next">&rarr;</a>
							</div>
						</aside>

						<div id="profile-stats" class="row">
							<ul class="nine columns menu">
								<li id="profile-sex" class="two columns" style="display:none;"><i class="male"></i>Male</li>
								<li id="profile-status" class="two columns" style="display:none;"><i class="single"></i>Single</li>
								<li id="profile-education" class="two columns" style="display:none;"><i class="edu"></i>Yale University</li>
								<li id="profile-dob" class="two columns" style="display:none;"><i class="birthday"></i>32 Years Old</li>
								<li id="profile-location" class="two columns" style="display:none;"><i class="location"></i>Seattle, WA</li>
								<li id="profile-job" class="two columns" style="display:none;"><i class="company"></i>Redfin Corporation</li>
							</ul>
						</div>

					</section>
	
				</div>
			</div>
		</div>
	</div>
	<section id="meet-people-cta" class="page-content">
		<div class="row">
			<div class="eight columns">
				<h4>Connect Friends</h4>
				<p>Play friend-maker with this fun and simple tool!</p>
				<a href="/makematches/" class="button">Learn more</a>
			</div>
			<div id="four-images" class="four columns">
				<img src="{{ MEDIA_URL }}/images/brian.jpg" />
				<img src="{{ MEDIA_URL }}/images/betty.jpg" />
				<img src="{{ MEDIA_URL }}/images/john.jpg" />
				<img src="{{ MEDIA_URL }}/images/susan.jpg" />
			</div>
		</div>
	</section>
{% endblock %}
{% block extrahtml %}
    <div id="myModal" class="reveal-modal large">
        <h4>We are currently searching for potential friends...</h4>
        <div class="row">
            <div id="nudge-left" style:"text-align:center">
                <a href="#" class="title">
                    <span class="match-name">It'll just take a second</span>
                    <span class="introduce-thumb" style="background-image: url({{ MEDIA_URL }}/images/loader.gif);"></span>
                </a>
            </div>
            
        </div>

        <a class="close-reveal-modal" style="display:none;"><small>OK</small> &times;</a>
    </div>
    <div id="myModal2" class="reveal-modal large eight columns">
        <aside id="user-profile" style="four columns">
			<h4>Get Introduced to <span class="profile-name"></span></h4>
							
			<div id="ask-about-modal" style="">
				<ul>

				</ul>
			</div>

			<div class="right">
				<a href="#" id="ask-prev-modal">&larr;</a>
				<a href="#" id="ask-next-modal">&rarr;</a>
			</div>
		</aside>
        <a class="close-reveal-modal" onclick="$('#page-next').show(); $('#page-prev').show();"><small>Nevermind</small> &times;</a>
    </div>
{% endblock %}
{% block extrascript %}
    <script>
       /*
          The token in this init function should pertain to the
          current user, user session or something to identify the
          current authenticated user   
       */
       Mutuality.init('{{ profile.facebookID }}', '../');
          
       /*
        * Would like to replace this with a custom view helper
        * that prints out a <script> tag to match the current
        * route if the JS file exists. Example:
        * 
        * <script src="javascripts/mutuality/make-matches.js"><//script>
        *
       */
       (function($){
           $.getScript('{{ MEDIA_URL }}/javascripts/meet-people.js').fail(function(xhr, settings, exception){
               console.log(exception);
           });
       })(jQuery);


       FB.init({
           appId  : '{{ FACEBOOK_APP_ID }}',
           frictionlessRequests: true
       });

       function sendRequestViaMultiFriendSelector() {
           var message = 'Mutuality is really fun! I just matched two people together that will make you laugh :)';
           FB.ui({method: 'apprequests',
               message: message
           }, requestCallback);
       }

       function requestCallback(response) {
           // Handle callback here
       }

       $("#invite-link a").attr('onclick', "sendRequestViaMultiFriendSelector(); return false;");

    </script>
{% endblock %}	
	